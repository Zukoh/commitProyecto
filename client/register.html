<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/stylesRegister.css">
    <title>Register</title>
</head>
<body>
    <div class="container">
        <div class="circle">

        </div>
        <div class="user">
        <label for="user">Username</label>
        <input type="text" id="user">
        </div> 
        <div class="pass">
        <label for="pass">Password</label>
        <input type="password" id="pass">
        </div> 
        <div class="mail">
            <label for="mail">Mail</label>
            <input type="text" id="mail">
        </div>
        <div class="dni">
            <label for="dni">DNI</label>
            <input type="text" id="dni">
        </div>
        <div class="edad">
            <label for="edad">Edad</label>
            <input type="text" id="edad">
        </div>
        <div class="tipouser">
            <label for="tipo1">Quiero reservar
            <input type="checkbox" id="tipo1">
            <label for="tipo2">Quiero promocionar mi local
                <input type="checkbox" id="tipo2">

            </label>
        </div>

        <button class="btn-register" onclick="register()">Registrar</button>
        <p class="linklogin">Â¿Ya tienes cuenta? <a href="/login">Login</a></p>

    </div>


    <script>
        function register(){
            const user = document.getElementById("user").value;
            const pass = document.getElementById("pass").value;
            const mail = document.getElementById("mail").value;
            const dni = document.getElementById("dni").value;
            const edad = document.getElementById("edad").value;
            const tipouser = document.getElementById("tipo1").value;
            const tipouser2 = document.getElementById("tipo2").value;

            console.log(user, pass, mail, dni, edad, tipouser, tipouser2);

            const userBody = JSON.stringify({
                username: user,
                password: pass,
                mail : mail,
                dni : dni,
                edad : edad,
                tipouser: tipouser,
                tipouser2 : tipouser2
            })

            const xhr = new XMLHttpRequest();

            xhr.onload = function (){
                console.log(this.responseText);
            }
            xhr.open("POST", "/register");

            xhr.setRequestHeader("Content-type", "application/json");

            xhr.send(userBody);

        }
    </script>
</body>
</html>